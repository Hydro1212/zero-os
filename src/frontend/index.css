@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --radius: 0.5rem;

    /* Zero OS Dark Theme - Cyberpunk */
    --background: 0.06 0.02 280;
    --foreground: 0.97 0.01 200;
    --card: 0.1 0.03 260;
    --card-foreground: 0.97 0.01 200;
    --popover: 0.08 0.04 270;
    --popover-foreground: 0.97 0.01 200;
    --primary: 0.88 0.22 195;
    --primary-foreground: 0.06 0.02 280;
    --secondary: 0.15 0.05 270;
    --secondary-foreground: 0.97 0.01 200;
    --muted: 0.12 0.03 265;
    --muted-foreground: 0.65 0.05 220;
    --accent: 0.75 0.3 300;
    --accent-foreground: 0.97 0.01 200;
    --destructive: 0.65 0.25 25;
    --destructive-foreground: 0.97 0.01 200;
    --border: 0.88 0.22 195 / 20%;
    --input: 0.88 0.22 195 / 15%;
    --ring: 0.88 0.22 195;

    /* Sidebar */
    --sidebar: 0.08 0.03 270;
    --sidebar-foreground: 0.97 0.01 200;
    --sidebar-primary: 0.88 0.22 195;
    --sidebar-primary-foreground: 0.06 0.02 280;
    --sidebar-accent: 0.12 0.04 265;
    --sidebar-accent-foreground: 0.97 0.01 200;
    --sidebar-border: 0.88 0.22 195 / 20%;
    --sidebar-ring: 0.88 0.22 195;

    /* Charts */
    --chart-1: 0.88 0.22 195;
    --chart-2: 0.75 0.3 300;
    --chart-3: 0.7 0.28 330;
    --chart-4: 0.65 0.25 25;
    --chart-5: 0.72 0.2 150;

    /* Zero OS Custom Tokens */
    --neon-cyan: #00f5ff;
    --neon-purple: #bf00ff;
    --neon-pink: #ff00a0;
    --neon-green: #00ff88;
    --glass-bg: rgba(10, 10, 30, 0.72);
    --glass-border: rgba(0, 245, 255, 0.25);
    --glass-blur: blur(16px);
    --taskbar-height: 52px;
    --neon-glow-cyan: 0 0 10px rgba(0, 245, 255, 0.6), 0 0 30px rgba(0, 245, 255, 0.3), 0 0 60px rgba(0, 245, 255, 0.1);
    --neon-glow-purple: 0 0 10px rgba(191, 0, 255, 0.6), 0 0 30px rgba(191, 0, 255, 0.3), 0 0 60px rgba(191, 0, 255, 0.1);
    --neon-glow-pink: 0 0 10px rgba(255, 0, 160, 0.6), 0 0 30px rgba(255, 0, 160, 0.3), 0 0 60px rgba(255, 0, 160, 0.1);
    --transition-fast: 0.15s ease;
    --transition-smooth: 0.25s ease;
  }

  .dark {
    --background: 0.06 0.02 280;
    --foreground: 0.97 0.01 200;
    --card: 0.1 0.03 260;
    --card-foreground: 0.97 0.01 200;
    --popover: 0.08 0.04 270;
    --popover-foreground: 0.97 0.01 200;
    --primary: 0.88 0.22 195;
    --primary-foreground: 0.06 0.02 280;
    --secondary: 0.15 0.05 270;
    --secondary-foreground: 0.97 0.01 200;
    --muted: 0.12 0.03 265;
    --muted-foreground: 0.65 0.05 220;
    --accent: 0.75 0.3 300;
    --accent-foreground: 0.97 0.01 200;
    --destructive: 0.65 0.25 25;
    --destructive-foreground: 0.97 0.01 200;
    --border: 0.88 0.22 195 / 20%;
    --input: 0.88 0.22 195 / 15%;
    --ring: 0.88 0.22 195;
  }

  * {
    @apply border-border;
    box-sizing: border-box;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Rajdhani', 'Share Tech Mono', sans-serif;
    overflow: hidden;
    width: 100vw;
    height: 100vh;
  }

  #root {
    width: 100vw;
    height: 100vh;
    overflow: hidden;
  }
}

/* ===========================
   Zero OS Custom Styles
   =========================== */

/* Glassmorphism panel */
.glass-panel {
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
}

.glass-panel-purple {
  background: rgba(15, 5, 30, 0.72);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: 1px solid rgba(191, 0, 255, 0.3);
}

/* Neon text */
.neon-text-cyan {
  color: var(--neon-cyan);
  text-shadow: 0 0 8px rgba(0, 245, 255, 0.8), 0 0 20px rgba(0, 245, 255, 0.4);
}

.neon-text-purple {
  color: var(--neon-purple);
  text-shadow: 0 0 8px rgba(191, 0, 255, 0.8), 0 0 20px rgba(191, 0, 255, 0.4);
}

.neon-text-pink {
  color: var(--neon-pink);
  text-shadow: 0 0 8px rgba(255, 0, 160, 0.8), 0 0 20px rgba(255, 0, 160, 0.4);
}

/* Neon border glow */
.neon-border-cyan {
  border-color: var(--neon-cyan) !important;
  box-shadow: var(--neon-glow-cyan), inset 0 0 10px rgba(0, 245, 255, 0.05);
}

.neon-border-purple {
  border-color: var(--neon-purple) !important;
  box-shadow: var(--neon-glow-purple), inset 0 0 10px rgba(191, 0, 255, 0.05);
}

.neon-border-pink {
  border-color: var(--neon-pink) !important;
  box-shadow: var(--neon-glow-pink), inset 0 0 10px rgba(255, 0, 160, 0.05);
}

/* Orbitron headings */
.font-orbitron {
  font-family: 'Orbitron', monospace;
}

.font-mono-tech {
  font-family: 'Share Tech Mono', monospace;
}

/* Neon input fields */
.neon-input {
  background: rgba(0, 245, 255, 0.05);
  border: 1px solid rgba(0, 245, 255, 0.3);
  color: white;
  transition: all var(--transition-smooth);
}

.neon-input:focus {
  border-color: var(--neon-cyan);
  box-shadow: 0 0 0 2px rgba(0, 245, 255, 0.15), var(--neon-glow-cyan);
  outline: none;
}

.neon-input::placeholder {
  color: rgba(0, 245, 255, 0.35);
}

/* Neon button */
.neon-btn-cyan {
  background: rgba(0, 245, 255, 0.1);
  border: 1px solid var(--neon-cyan);
  color: var(--neon-cyan);
  transition: all var(--transition-fast);
  font-family: 'Orbitron', monospace;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-size: 0.75rem;
}

.neon-btn-cyan:hover {
  background: rgba(0, 245, 255, 0.2);
  box-shadow: var(--neon-glow-cyan);
}

.neon-btn-purple {
  background: rgba(191, 0, 255, 0.1);
  border: 1px solid var(--neon-purple);
  color: var(--neon-purple);
  transition: all var(--transition-fast);
  font-family: 'Orbitron', monospace;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-size: 0.75rem;
}

.neon-btn-purple:hover {
  background: rgba(191, 0, 255, 0.2);
  box-shadow: var(--neon-glow-purple);
}

.neon-btn-danger {
  background: rgba(255, 50, 50, 0.1);
  border: 1px solid rgba(255, 50, 50, 0.8);
  color: rgba(255, 100, 100, 1);
  transition: all var(--transition-fast);
  font-family: 'Orbitron', monospace;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-size: 0.75rem;
}

.neon-btn-danger:hover {
  background: rgba(255, 50, 50, 0.2);
  box-shadow: 0 0 10px rgba(255, 50, 50, 0.6);
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}

::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.3);
}

::-webkit-scrollbar-thumb {
  background: rgba(0, 245, 255, 0.4);
  border-radius: 2px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 245, 255, 0.7);
}

/* ===========================
   Animations
   =========================== */

/* ── Login Screen ───────────────────────────────────── */

@keyframes login-logo-in {
  from { opacity: 0; transform: scale(0.8); }
  to   { opacity: 1; transform: scale(1); }
}

@keyframes login-subtitle-in {
  from { opacity: 0; transform: translateY(20px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes login-btn-in {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes logo-glow-pulse {
  0%, 100% {
    text-shadow: 0 0 20px rgba(0,245,255,0.6), 0 0 40px rgba(0,245,255,0.3);
    box-shadow: 0 0 30px rgba(0,245,255,0.15);
  }
  50% {
    text-shadow: 0 0 35px rgba(0,245,255,0.9), 0 0 70px rgba(0,245,255,0.5), 0 0 100px rgba(0,245,255,0.2);
    box-shadow: 0 0 50px rgba(0,245,255,0.35), 0 0 90px rgba(0,245,255,0.12);
  }
}

@keyframes cursor-blink {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0; }
}

@keyframes typewriter-reveal {
  from { clip-path: inset(0 100% 0 0); }
  to   { clip-path: inset(0 0% 0 0); }
}

@keyframes boot-fade-out {
  0%   { opacity: 1; }
  80%  { opacity: 1; }
  100% { opacity: 0; }
}

@keyframes desktop-fade-in {
  from { opacity: 0; }
  to   { opacity: 1; }
}

/* ── Boot Sequence ────────────────────────────────── */

@keyframes boot-text-in {
  from { opacity: 0; letter-spacing: 0.5em; }
  to   { opacity: 1; letter-spacing: 0.25em; }
}

@keyframes boot-line-appear {
  from { opacity: 0; transform: translateX(-8px); }
  to   { opacity: 1; transform: translateX(0); }
}

/* ── Start Menu ─────────────────────────────────────── */

@keyframes startmenu-open {
  from {
    opacity: 0;
    transform: translateX(-50%) scale(0.95) translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) scale(1) translateY(0);
  }
}

@keyframes startmenu-close {
  from {
    opacity: 1;
    transform: translateX(-50%) scale(1) translateY(0);
  }
  to {
    opacity: 0;
    transform: translateX(-50%) scale(0.95) translateY(12px);
  }
}

/* ── Start Button Ripple ─────────────────────────────── */

@keyframes start-ripple {
  0%   { transform: scale(0); opacity: 0.7; }
  100% { transform: scale(3.5); opacity: 0; }
}

/* ── Neon Grid / Particles (background) ──────────────── */

@keyframes grid-scroll {
  0%   { transform: perspective(400px) rotateX(60deg) translateY(0); }
  100% { transform: perspective(400px) rotateX(60deg) translateY(60px); }
}

@keyframes float-particle {
  0%   { transform: translateY(0) translateX(0); opacity: 0; }
  10%  { opacity: 1; }
  90%  { opacity: 0.8; }
  100% { transform: translateY(-100vh) translateX(var(--particle-drift)); opacity: 0; }
}

@keyframes scanline {
  0%   { top: 0; }
  100% { top: 100%; }
}

/* ── Windows ─────────────────────────────────────────── */

@keyframes window-open {
  from { opacity: 0; transform: scale(0.85) translateY(8px); }
  to   { opacity: 1; transform: scale(1) translateY(0); }
}

@keyframes window-minimize-bottom {
  from { opacity: 1; transform: scale(1) translateY(0); }
  to   { opacity: 0; transform: scale(0.3) translateY(80px); }
}

@keyframes window-minimize-top {
  from { opacity: 1; transform: scale(1) translateY(0); }
  to   { opacity: 0; transform: scale(0.3) translateY(-80px); }
}

@keyframes window-restore {
  from { opacity: 0; transform: scale(0.3); }
  to   { opacity: 1; transform: scale(1); }
}

/* ── Modals ──────────────────────────────────────────── */

@keyframes modal-appear {
  from { opacity: 0; transform: translate(-50%, -50%) scale(0.9) translateY(-6px); }
  to   { opacity: 1; transform: translate(-50%, -50%) scale(1) translateY(0); }
}

@keyframes context-menu-appear {
  from { opacity: 0; transform: scale(0.92) translateY(-4px); }
  to   { opacity: 1; transform: scale(1) translateY(0); }
}

/* ── Taskbar ─────────────────────────────────────────── */

@keyframes taskbar-slide-bottom {
  from { transform: translateY(110%); opacity: 0; }
  60%  { transform: translateY(-4px); opacity: 1; }
  to   { transform: translateY(0); opacity: 1; }
}

@keyframes taskbar-slide-top {
  from { transform: translateY(-110%); opacity: 0; }
  60%  { transform: translateY(4px); opacity: 1; }
  to   { transform: translateY(0); opacity: 1; }
}

/* ── Desktop Icons ───────────────────────────────────── */

@keyframes icon-appear {
  from { opacity: 0; transform: translateY(20px) scale(0.8); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes icon-launch-pulse {
  0%   { transform: scale(1); }
  30%  { transform: scale(0.85); }
  65%  { transform: scale(1.15); }
  100% { transform: scale(1); }
}

@keyframes icon-ripple {
  0%   { transform: translate(-50%, -50%) scale(0); opacity: 0.6; }
  100% { transform: translate(-50%, -50%) scale(4); opacity: 0; }
}

/* ── Misc ────────────────────────────────────────────── */

@keyframes neon-pulse {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0.6; }
}

@keyframes spin-slow {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}

@keyframes neon-flicker {
  0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
    opacity: 1;
    text-shadow: 0 0 8px rgba(0,245,255,0.8), 0 0 20px rgba(0,245,255,0.4);
  }
  20%, 24%, 55% {
    opacity: 0.7;
    text-shadow: none;
  }
}

@keyframes glow-pulse {
  0%, 100% { box-shadow: 0 0 8px rgba(0,245,255,0.4); }
  50%       { box-shadow: 0 0 20px rgba(0,245,255,0.8), 0 0 40px rgba(0,245,255,0.3); }
}

/* ── Animation utility classes ───────────────────────── */

.animate-window-open {
  animation: window-open 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.animate-window-minimize-bottom {
  animation: window-minimize-bottom 0.25s ease-in forwards;
}

.animate-window-minimize-top {
  animation: window-minimize-top 0.25s ease-in forwards;
}

.animate-window-restore {
  animation: window-restore 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.animate-modal-appear {
  animation: modal-appear 0.22s cubic-bezier(0.34, 1.3, 0.64, 1) forwards;
}

.animate-startmenu-open {
  animation: startmenu-open 0.25s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.animate-startmenu-close {
  animation: startmenu-close 0.15s ease-in forwards;
}

/* legacy alias kept for compat */
.animate-startmenu {
  animation: startmenu-open 0.25s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.animate-context-menu {
  animation: context-menu-appear 0.12s ease-out forwards;
}

.animate-glow-pulse {
  animation: glow-pulse 2s ease-in-out infinite;
}

.animate-neon-flicker {
  animation: neon-flicker 6s linear infinite;
}

.animate-taskbar-bottom {
  animation: taskbar-slide-bottom 0.45s cubic-bezier(0.34, 1.3, 0.64, 1) forwards;
}

.animate-taskbar-top {
  animation: taskbar-slide-top 0.45s cubic-bezier(0.34, 1.3, 0.64, 1) forwards;
}

.animate-logo-in {
  animation: login-logo-in 0.8s ease-out forwards;
}

.animate-subtitle-in {
  animation: login-subtitle-in 0.7s ease-out 0.4s both;
}

.animate-btn-in {
  animation: login-btn-in 0.6s ease-out 0.8s both;
}

.animate-logo-glow {
  animation: logo-glow-pulse 2.8s ease-in-out infinite;
}

.animate-cursor-blink {
  animation: cursor-blink 0.8s step-end infinite;
}

.animate-desktop-in {
  animation: desktop-fade-in 0.4s ease-out forwards;
}

.animate-boot-text {
  animation: boot-text-in 0.6s ease-out forwards;
}

.animate-boot-line {
  animation: boot-line-appear 0.3s ease-out both;
}

.animate-icon-launch {
  animation: icon-launch-pulse 0.3s ease-out forwards;
}

/* ── App icon hover ──────────────────────────────────── */

.app-icon {
  transition: transform var(--transition-smooth);
  cursor: pointer;
  user-select: none;
}

.app-icon:hover {
  transform: translateY(-4px);
}

/* ── Window titlebar ─────────────────────────────────── */

.window-titlebar {
  cursor: grab;
}

.window-titlebar:active {
  cursor: grabbing;
}

/* ── Context menu ────────────────────────────────────── */

.context-menu-item {
  transition: background var(--transition-fast);
  cursor: pointer;
}

.context-menu-item:hover {
  background: rgba(0, 245, 255, 0.1);
  color: var(--neon-cyan);
}

/* ── Taskbar icon pill ───────────────────────────────── */

.taskbar-icon {
  transition: all var(--transition-fast);
  cursor: pointer;
}

.taskbar-icon:hover {
  transform: translateY(-3px);
}

/* ── Select override ─────────────────────────────────── */

select.neon-select {
  background: rgba(10, 10, 30, 0.9);
  border: 1px solid rgba(0, 245, 255, 0.3);
  color: white;
  padding: 0.4rem 0.6rem;
  border-radius: 4px;
  cursor: pointer;
  transition: all var(--transition-fast);
}

select.neon-select:focus {
  border-color: var(--neon-cyan);
  box-shadow: 0 0 0 2px rgba(0, 245, 255, 0.15);
  outline: none;
}

select.neon-select option {
  background: #0a0a1e;
  color: white;
}

/* ── Boot screen overlay ─────────────────────────────── */

.boot-screen {
  position: fixed;
  inset: 0;
  z-index: 9999;
  background: #000;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  gap: 0;
  pointer-events: none;
}

.boot-screen.exiting {
  animation: boot-fade-out 0.5s ease-out forwards;
}
